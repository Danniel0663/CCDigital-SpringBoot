spring.application.name=CCDigital
server.port=8080

# ------------------------------------------------------------------
# MySQL
# ------------------------------------------------------------------
spring.datasource.url=jdbc:mysql://localhost:3306/ciudadania_digital?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=utf8
spring.datasource.username=root
spring.datasource.password=CCdigital123*

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ------------------------------------------------------------------
# Archivos (FileStorageProperties -> FileStorageService)
# ------------------------------------------------------------------
ccdigital.fs.base-path=/home/ccdigital/CCDigitalBlock/CCDigital

# ------------------------------------------------------------------
# ACA-Py (si otros componentes a�n usan acapy.*)
# ------------------------------------------------------------------
acapy.verifier.admin=http://localhost:8021
acapy.holder.admin=http://localhost:8031
acapy.cred-def-id=N2MKRnuq7w5g9YtPN6iS39:3:CL:8:default

# Polling (si lo usas en controller/servicio)
acapy.proof.poll-interval-ms=1000
acapy.proof.poll-timeout-ms=20000

# ------------------------------------------------------------------
# INDY (ConfigurationProperties: ccdigital.indy.*)
# ------------------------------------------------------------------
ccdigital.indy.issuer-admin-url=${acapy.verifier.admin}
ccdigital.indy.holder-admin-url=${acapy.holder.admin}

# "auto" = busca conexi�n ACTIVE por their_label == holder-label
ccdigital.indy.holder-connection-id=auto
ccdigital.indy.holder-label=Holder-CDigital

ccdigital.indy.cred-def-id=${acapy.cred-def-id}
ccdigital.indy.admin-api-key=

# ------------------------------------------------------------------
# External tools - Fabric CLI scripts
# ------------------------------------------------------------------
external-tools.fabric.workdir=/home/ccdigital/fabric/fabric-samples/test-network/client
external-tools.fabric.node-bin=node
external-tools.fabric.list-docs-script=list-docs.js

external-tools.fabric.sync-all-script=sync-db-to-ledger.js
external-tools.fabric.sync-person-script=sync-db-to-ledger.js

# ------------------------------------------------------------------
# External tools - Indy scripts
# ------------------------------------------------------------------
external-tools.indy.workdir=/home/ccdigital/cdigital-indy-python
external-tools.indy.venv-activate=source venv/bin/activate
external-tools.indy.script=issue_credentials_from_db.py

# Timeout global (segundos)
external-tools.default-timeout-seconds=180

# ------------------------------------------------------------------
# Recuperación segura de contraseña (correo + código temporal / OTP)
# - Requiere SMTP válido (Gmail, Office365, etc.)
# - app.security.forgot-password.mail.from debe ser un remitente permitido por el proveedor
# - spring.mail.test-connection=true valida credenciales SMTP al arrancar (útil para diagnóstico)
# ------------------------------------------------------------------
# Recuperación
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=parradanniel06@gmail.com
spring.mail.password=ekwy bipn sjzr lhdx

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

app.security.forgot-password.mail.from=recuperacion@ccdigital.com
spring.mail.test-connection=true

