<div class="cc-card-soft p-4 mb-3">
  <h2 class="h6 text-uppercase text-muted mb-3">Credenciales del emisor (Login)</h2>

  <div th:if="${credOk != null}" class="alert alert-success py-2 mb-2">
    Credenciales guardadas correctamente.
  </div>
  <div th:if="${credErr != null}" class="alert alert-danger py-2 mb-2" th:text="${credErr}">
    Error
  </div>

  <form th:action="@{/admin/issuers/{id}/credentials(id=${issuer.id})}" method="post" class="row g-3">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

    <div class="col-12 col-lg-6">
      <label class="form-label">Correo (usuario de login)</label>
      <input class="form-control" name="email" required
             th:value="${entityUser != null ? entityUser.email : ''}">
      <div class="form-text">El emisor iniciará sesión usando este correo.</div>
    </div>

    <div class="col-12 col-lg-6">
      <label class="form-label">Nueva contraseña</label>
      <input class="form-control" type="password" name="password" required>
      <div class="form-text">Se guarda en BD como hash (bcrypt).</div>
    </div>

    <div class="col-12">
      <button class="btn btn-primary" type="submit">
        <i class="bi bi-save me-2"></i>Guardar credenciales
      </button>
    </div>
  </form>
</div>
